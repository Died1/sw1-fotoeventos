"use strict";(globalThis["webpackChunkquasarapp"]=globalThis["webpackChunkquasarapp"]||[]).push([[723],{2723:(e,t,a)=>{a.r(t),a.d(t,{default:()=>rt});var o=a(9835);const l=(0,o._)("p",{class:"text-h6"},"Panel Principal",-1),n=(0,o._)("div",{class:"text-h6"},"Descargas",-1);function r(e,t,a,r,s,i){const u=(0,o.up)("q-card-section"),c=(0,o.up)("q-separator"),d=(0,o.up)("q-tab"),m=(0,o.up)("q-tabs"),p=(0,o.up)("ProfilePage"),h=(0,o.up)("q-tab-panel"),v=(0,o.up)("EventPage"),g=(0,o.up)("q-tab-panels"),w=(0,o.up)("q-card"),f=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(f,{class:"row justify-center bg-grey-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{class:"col-md-10 col-xs-12 q-pa-md q-gutter-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{class:"q-pa-xs"},{default:(0,o.w5)((()=>[l])),_:1}),(0,o.Wm)(c),(0,o.Wm)(u,{class:"q-pa-xs"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.tab=t),"inline-label":"",class:"bg-black text-white shadow-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{name:"profile",icon:"person",label:"Información"}),(0,o.Wm)(d,{name:"events",icon:"event",label:"Eventos"}),(0,o.Wm)(d,{name:"alarms",icon:"download",label:"Descargas"})])),_:1},8,["modelValue"]),(0,o.Wm)(c),(0,o.Wm)(g,{modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.tab=t),animated:""},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{name:"profile"},{default:(0,o.w5)((()=>[(0,o.Wm)(p)])),_:1}),(0,o.Wm)(h,{name:"events"},{default:(0,o.w5)((()=>[(0,o.Wm)(v)])),_:1}),(0,o.Wm)(h,{name:"donwloads"},{default:(0,o.w5)((()=>[n,(0,o.Uk)(" Lorem ipsum dolor sit amet consectetur adipisicing elit. ")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})}var s=a(499);function i(e,t,a,l,n,r){const s=(0,o.up)("q-btn"),i=(0,o.up)("q-toolbar"),u=(0,o.up)("ListAssignedEvent"),c=(0,o.up)("ListEvent"),d=(0,o.up)("CreateEvent"),m=(0,o.up)("q-page-section"),p=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m,{class:"row"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{class:"q-pa-none"},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{onClick:t[0]||(t[0]=e=>l.showFormCreateEvent=!0),color:"primary",class:"full-width",label:"Crear evento"})])),_:1}),"photographer"===l.authUser.type?((0,o.wg)(),(0,o.j4)(u,{key:0,items:l.assignedEvents},null,8,["items"])):(0,o.kq)("",!0),(0,o.Wm)(c,{items:l.events},null,8,["items"]),(0,o.Wm)(d,{showFormCreateEvent:l.showFormCreateEvent,"onUpdate:showFormCreateEvent":[t[1]||(t[1]=e=>l.showFormCreateEvent=e),l.handleUpdateShowForm]},null,8,["showFormCreateEvent","onUpdate:showFormCreateEvent"])])),_:1})])),_:1})}var u=a(4136),c=a(5844);const d={class:"col-md-12 col-xs-12 q-pa-sm"};function m(e,t,a,l,n,r){const s=(0,o.up)("q-card-section"),i=(0,o.up)("CardEvent"),u=(0,o.up)("q-list"),c=(0,o.up)("q-scroll-area");return(0,o.wg)(),(0,o.iD)("div",d,[(0,o.Wm)(s,{class:"q-pt-lg q-pb-lg text-h5"},{default:(0,o.w5)((()=>[(0,o.Uk)(" Mis Eventos ")])),_:1}),(0,o.Wm)(c,{style:{height:"calc(100vh - 360px)"}},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.items,(e=>((0,o.wg)(),(0,o.j4)(u,{key:e.id},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{event:e},null,8,["event"])])),_:2},1024)))),128))])),_:1})])}var p=a(6970);const h={class:"q-gutter-x-sm"},v=["src"],g={class:"text-h7"},w=(0,o._)("img",{src:"https://cdn.quasar.dev/img/boy-avatar.png"},null,-1);function f(e,t,a,l,n,r){const s=(0,o.up)("q-avatar"),i=(0,o.up)("q-item-section"),u=(0,o.up)("q-item-label"),c=(0,o.up)("q-chip"),d=(0,o.up)("q-item"),m=(0,o.up)("ShowEvent"),f=(0,o.Q2)("ripple");return(0,o.wg)(),(0,o.iD)("div",h,[(0,o.wy)(((0,o.wg)(),(0,o.j4)(d,{clickable:"",onClick:t[0]||(t[0]=t=>e.showDialogEvent=!0)},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{side:""},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{rounded:"",size:"90px"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:e.event.cover_url,style:{height:"90%"}},null,8,v)])),_:1})])),_:1}),(0,o.Wm)(i,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,{class:"text-negative"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,p.zw)(e.formattedDate),1)])),_:1}),(0,o.Wm)(u,{class:"text-h6"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,p.zw)(e.event.title),1)])),_:1}),(0,o._)("div",g,[(0,o.Uk)(" Fotografo: "),(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(s,null,{default:(0,o.w5)((()=>[w])),_:1}),(0,o.Uk)(" "+(0,p.zw)(e.photographer),1)])),_:1})])])),_:1})])),_:1})),[[f]]),(0,o.Wm)(m,{showDialogEvent:e.showDialogEvent,"onUpdate:showDialogEvent":t[1]||(t[1]=t=>e.showDialogEvent=t),qrurl:e.event.qr_url},null,8,["showDialogEvent","qrurl"])])}a(1384);const _=(0,o._)("div",{class:"text-h6 text-center"},"Compartir",-1),q={class:"scroll-inner"},W=["src"];function Z(e,t,a,l,n,r){const s=(0,o.up)("q-space"),i=(0,o.up)("q-card-section"),u=(0,o.up)("q-separator"),c=(0,o.up)("q-btn"),d=(0,o.up)("q-scroll-area"),m=(0,o.up)("q-card"),p=(0,o.up)("q-dialog");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(p,{modelValue:e.showDialogEvent,"onUpdate:modelValue":t[1]||(t[1]=t=>e.showDialogEvent=t)},{default:(0,o.w5)((()=>[(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(i,{class:"row items-center q-pb-none"},{default:(0,o.w5)((()=>[_,(0,o.Wm)(s),(0,o._)("span",{class:"close",onClick:t[0]||(t[0]=(...t)=>e.closeDialogShowEvent&&e.closeDialogShowEvent(...t))},"×")])),_:1}),(0,o.Wm)(u),(0,o.Wm)(i,{class:"scroll q-pa-none"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"scroll-content",style:{height:"70vh",width:"450px"}},{default:(0,o.w5)((()=>[(0,o._)("div",q,[(0,o._)("img",{src:e.qrurl,alt:"",style:{"max-width":"100%","max-height":"100%"}},null,8,W),(0,o.Wm)(c,{icon:"share",label:"Compartir",onClick:e.compartirEvento},null,8,["onClick"]),(0,o.Wm)(c,{icon:"share",label:"descargar",onClick:e.descargarQr},null,8,["onClick"])])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])}const b=(0,o.aZ)({name:"ShowEvent",props:{showDialogEvent:Boolean,qrurl:String},computed:{formattedDate(){const e=new Date(this.event.date_start),t={weekday:"long",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return e.toLocaleDateString("es-ES",t)}},setup(e,{emit:t}){const a=e.qrurl,o=()=>{t("update:showDialogEvent",!1)},l=()=>{const e=a;console.log(e),navigator.share?navigator.share({title:"Título del evento",text:"Descripción del evento",url:e}).then((()=>console.log("Imagen compartida con éxito"))).catch((e=>console.error("Error al compartir la imagen:",e))):console.warn("La función de compartir no es compatible en este navegador.")},n=()=>{const e="http://localhost:8000"+a;console.log(e);const t=document.createElement("a");t.href=e,t.download="nombre_archivo",t.click()};return{closeDialogShowEvent:o,compartirEvento:l,descargarQr:n}}});var E=a(1639),y=a(2074),C=a(4458),S=a(3190),Q=a(136),D=a(926),k=a(6663),x=a(8879),V=a(9984),P=a.n(V);const U=(0,E.Z)(b,[["render",Z]]),F=U;P()(b,"components",{QDialog:y.Z,QCard:C.Z,QCardSection:S.Z,QSpace:Q.Z,QSeparator:D.Z,QScrollArea:k.Z,QBtn:x.Z});const I=(0,o.aZ)({name:"CardEvent",props:{event:Object},components:{ShowEvent:F},computed:{photographer(e){let t=e.event.photographer,a="";return t.firstname&&(a+=t.firstname),t.lastname&&(a=a+" "+t.lastname),a},formattedDate(){const e=new Date(this.event.date_start),t={weekday:"long",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return e.toLocaleDateString("es-ES",t)}},setup(e){e.event;return{showDialogEvent:(0,s.iH)(!1)}}});var z=a(490),A=a(6749),H=a(1357),j=a(3115),L=a(7691),R=a(1136);const T=(0,E.Z)(I,[["render",f]]),O=T;P()(I,"components",{QItem:z.Z,QItemSection:A.Z,QAvatar:H.Z,QItemLabel:j.Z,QChip:L.Z}),P()(I,"directives",{Ripple:R.Z});const B=(0,o.aZ)({name:"ListEvent",props:{items:Array},components:{CardEvent:O}});var $=a(3246);const K=(0,E.Z)(B,[["render",m]]),N=K;P()(B,"components",{QCardSection:S.Z,QScrollArea:k.Z,QList:$.Z});const Y={class:"col-md-12 col-xs-12 q-pa-sm"};function J(e,t,a,l,n,r){const s=(0,o.up)("q-card-section"),i=(0,o.up)("CardAssignedEvent"),u=(0,o.up)("q-list"),c=(0,o.up)("q-scroll-area");return(0,o.wg)(),(0,o.iD)("div",Y,[(0,o.Wm)(s,{class:"q-pt-lg q-pb-lg text-h5"},{default:(0,o.w5)((()=>[(0,o.Uk)(" Eventos Asignados ")])),_:1}),(0,o.Wm)(c,{style:{height:"calc(100vh - 460px)"}},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.items,(e=>((0,o.wg)(),(0,o.j4)(u,{key:e.id},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{event:e},null,8,["event"])])),_:2},1024)))),128))])),_:1})])}const M={class:"q-gutter-x-sm"},G=["src"],X={href:"#"};function ee(e,t,a,l,n,r){const s=(0,o.up)("q-avatar"),i=(0,o.up)("q-item-section"),u=(0,o.up)("q-item-label"),c=(0,o.up)("q-item"),d=(0,o.up)("ShowAssignedEvent"),m=(0,o.Q2)("ripple");return(0,o.wg)(),(0,o.iD)("div",M,[(0,o.wy)(((0,o.wg)(),(0,o.j4)(c,{clickable:"",onClick:t[0]||(t[0]=t=>e.showDialogEvent=!0)},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{side:""},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{rounded:"",size:"90px"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:e.event.cover_url,style:{height:"95%"}},null,8,G)])),_:1})])),_:1}),(0,o.Wm)(i,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,{class:"text-negative"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,p.zw)(e.formattedDate),1)])),_:1}),(0,o.Wm)(u,{class:"text-h6"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,p.zw)(e.event.title),1)])),_:1}),(0,o.Wm)(u,{class:"text-h7"},{default:(0,o.w5)((()=>[(0,o.Uk)("Dirección: "),(0,o._)("a",X,(0,p.zw)(e.event.address),1)])),_:1})])),_:1})])),_:1})),[[m]]),(0,o.Wm)(d,{showDialogEvent:e.showDialogEvent,"onUpdate:showDialogEvent":t[1]||(t[1]=t=>e.showDialogEvent=t),qrurl:e.event.qr_url,evento:e.evento},null,8,["showDialogEvent","qrurl","evento"])])}const te=(0,o._)("div",{class:"text-h6 text-center"},"Imagenes",-1);function ae(e,t,a,l,n,r){const s=(0,o.up)("q-space"),i=(0,o.up)("q-card-section"),u=(0,o.up)("q-separator"),c=(0,o.up)("q-uploader"),d=(0,o.up)("q-scroll-area"),m=(0,o.up)("q-card"),p=(0,o.up)("q-dialog");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(p,{modelValue:e.showDialogEvent,"onUpdate:modelValue":t[1]||(t[1]=t=>e.showDialogEvent=t)},{default:(0,o.w5)((()=>[(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(i,{class:"row items-center q-pb-none"},{default:(0,o.w5)((()=>[te,(0,o.Wm)(s),(0,o._)("span",{class:"close",onClick:t[0]||(t[0]=(...t)=>e.closeDialogShowEvent&&e.closeDialogShowEvent(...t))},"×")])),_:1}),(0,o.Wm)(u),(0,o.Wm)(i,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"scroll-content",style:{height:"70vh",width:"350px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{class:"row justify-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{factory:e.factoryFn,label:"Individual upload",multiple:"",style:{width:"300px","max-height":"500px"},onUploaded:e.handleUpload,"field-name":"image"},null,8,["factory","onUploaded"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])}const oe=(0,o.aZ)({props:{showDialogEvent:Boolean,evento:Object},computed:{formattedDate(){const e=new Date(this.event.date_start),t={weekday:"long",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return e.toLocaleDateString("es-ES",t)}},setup(e,{emit:t}){const a=e.evento,o=()=>{t("update:showDialogEvent",!1)},l=e=>{const t=JSON.parse(localStorage.getItem("authStore")),o=t.userState.token;return new Promise(((e,t)=>{e({url:`https://sw2.campozanodevlab.com/api/events/${a.id}/photos`,method:"POST",headers:[{name:"Authorization",value:`Bearer ${o}`}]})}))},n=e=>{console.log("Respuesta de carga de archivos:",e)};return{closeDialogShowEvent:o,factoryFn:l,handleUpload:n}}});var le=a(4343);const ne=(0,E.Z)(oe,[["render",ae]]),re=ne;P()(oe,"components",{QDialog:y.Z,QCard:C.Z,QCardSection:S.Z,QSpace:Q.Z,QSeparator:D.Z,QScrollArea:k.Z,QUploader:le.Z});const se=(0,o.aZ)({name:"CardEvent",props:{event:Object},components:{ShowAssignedEvent:re},computed:{formattedDate(){const e=new Date(this.event.date_start),t={weekday:"long",month:"long",day:"numeric",hour:"numeric",minute:"numeric"};return e.toLocaleDateString("es-ES",t)}},setup(e){const t=e.event;return{showDialogEvent:(0,s.iH)(!1),evento:t}}}),ie=(0,E.Z)(se,[["render",ee]]),ue=ie;P()(se,"components",{QItem:z.Z,QItemSection:A.Z,QAvatar:H.Z,QItemLabel:j.Z}),P()(se,"directives",{Ripple:R.Z});const ce=(0,o.aZ)({name:"ListAssignedEvent",props:{items:Array},components:{CardAssignedEvent:ue}}),de=(0,E.Z)(ce,[["render",J]]),me=de;P()(ce,"components",{QCardSection:S.Z,QScrollArea:k.Z,QList:$.Z});const pe=(0,o._)("div",{class:"text-h6 text-center"},"Crear evento",-1),he={class:"q-gutter-md q-pa-md"},ve=["src"],ge={class:"row"},we={class:"col-6 q-pr-sm"},fe={class:"row items-center justify-end"},_e={class:"col-6"},qe={class:"row items-center justify-end"};function We(e,t,a,l,n,r){const s=(0,o.up)("q-space"),i=(0,o.up)("q-card-section"),u=(0,o.up)("q-separator"),c=(0,o.up)("PhotoInput"),d=(0,o.up)("q-avatar"),m=(0,o.up)("q-item-section"),h=(0,o.up)("q-item-label"),v=(0,o.up)("q-item"),g=(0,o.up)("q-input"),w=(0,o.up)("q-select"),f=(0,o.up)("q-btn"),_=(0,o.up)("q-date"),q=(0,o.up)("q-popup-proxy"),W=(0,o.up)("q-icon"),Z=(0,o.up)("q-time"),b=(0,o.up)("q-form"),E=(0,o.up)("q-scroll-area"),y=(0,o.up)("q-card"),C=(0,o.up)("q-dialog"),S=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(C,{modelValue:e.showFormCreateEvent,"onUpdate:modelValue":t[9]||(t[9]=t=>e.showFormCreateEvent=t),persistent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(y,null,{default:(0,o.w5)((()=>[(0,o.Wm)(i,{class:"row items-center q-pb-none"},{default:(0,o.w5)((()=>[pe,(0,o.Wm)(s),(0,o._)("span",{class:"close",onClick:t[0]||(t[0]=(...t)=>e.closeFormCreateEvent&&e.closeFormCreateEvent(...t))},"×")])),_:1}),(0,o.Wm)(u),(0,o.Wm)(i,{class:"scroll q-pa-none"},{default:(0,o.w5)((()=>[(0,o.Wm)(E,{style:{height:"70vh",width:"450px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{ref:"myForm",onSubmit:e.onSubmit,onReset:e.onReset},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{onPhotoSelected:e.handlePhotoSelected},null,8,["onPhotoSelected"]),(0,o._)("div",he,[(0,o.Wm)(v,{class:"q-pa-none"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{avatar:""},{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o._)("img",{src:e.organizer.avatar_url?e.organizer.avatar_url:"https://cdn.quasar.dev/img/boy-avatar.png"},null,8,ve)])),_:1})])),_:1}),(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(h,{caption:"",lines:"1",class:"text-bold"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,p.zw)(e.organizer.firstname+" "+e.organizer.lastname),1)])),_:1}),(0,o.Wm)(h,{caption:"",lines:"1"},{default:(0,o.w5)((()=>[(0,o.Uk)("Organizador - Tu perfil")])),_:1})])),_:1})])),_:1}),(0,o.Wm)(g,{outlined:"",modelValue:e.title,"onUpdate:modelValue":t[1]||(t[1]=t=>e.title=t),label:"Nombre Del Evento"},null,8,["modelValue"]),(0,o.Wm)(w,{outlined:"",modelValue:e.assignedPhotographer,"onUpdate:modelValue":t[2]||(t[2]=t=>e.assignedPhotographer=t),options:e.photographersOptions,label:"Seleccione un fotografo"},null,8,["modelValue","options"]),(0,o._)("div",ge,[(0,o._)("div",we,[(0,o.Wm)(g,{outlined:"",modelValue:e.dateStart,"onUpdate:modelValue":t[4]||(t[4]=t=>e.dateStart=t),mask:"date",rules:["date"],label:"Fecha de inicio"},{append:(0,o.w5)((()=>[(0,o.Wm)(W,{name:"event",class:"cursor-pointer"},{default:(0,o.w5)((()=>[(0,o.Wm)(q,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{modelValue:e.dateStart,"onUpdate:modelValue":t[3]||(t[3]=t=>e.dateStart=t),minimal:""},{default:(0,o.w5)((()=>[(0,o._)("div",fe,[(0,o.wy)((0,o.Wm)(f,{label:"Close",color:"primary",flat:""},null,512),[[S]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])]),(0,o._)("div",_e,[(0,o.Wm)(g,{outlined:"",modelValue:e.timeStart,"onUpdate:modelValue":t[6]||(t[6]=t=>e.timeStart=t),mask:"time",rules:["time"],label:"Hora de inicio"},{append:(0,o.w5)((()=>[(0,o.Wm)(W,{name:"access_time",class:"cursor-pointer"},{default:(0,o.w5)((()=>[(0,o.Wm)(q,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,o.w5)((()=>[(0,o.Wm)(Z,{modelValue:e.timeStart,"onUpdate:modelValue":t[5]||(t[5]=t=>e.timeStart=t)},{default:(0,o.w5)((()=>[(0,o._)("div",qe,[(0,o.wy)((0,o.Wm)(f,{label:"Close",color:"primary",flat:""},null,512),[[S]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])]),(0,o.Wm)(g,{outlined:"",modelValue:e.address,"onUpdate:modelValue":t[7]||(t[7]=t=>e.address=t),label:"Dirección"},null,8,["modelValue"]),(0,o.Wm)(g,{type:"textarea",rows:"4",outlined:"",label:"¿Cuales son los detalles?",modelValue:e.details,"onUpdate:modelValue":t[8]||(t[8]=t=>e.details=t)},null,8,["modelValue"])])])),_:1},8,["onSubmit","onReset"])])),_:1})])),_:1}),(0,o.Wm)(u),(0,o.Wm)(i,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,{onClick:e.submitForm,label:"Crear evento",class:"full-width",color:"primary"},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var Ze=a(6827);const be=["src"];function Ee(e,t,a,l,n,r){const s=(0,o.up)("q-btn"),i=(0,o.up)("q-card");return(0,o.wg)(),(0,o.j4)(i,{class:"bg-grey-3"},{default:(0,o.w5)((()=>[(0,o._)("input",{type:"file",onChange:t[0]||(t[0]=(...t)=>e.onCoverPhotoChange&&e.onCoverPhotoChange(...t)),accept:"image/*",style:{display:"none"},ref:"refFotoPortada"},null,544),(0,o._)("img",{src:e.selectedPhotoUrl,alt:"Imagen",style:{width:"100%",height:"250px","object-fit":"cover","object-position":"top left"}},null,8,be),(0,o.Wm)(s,{onClick:e.actualizarImagen,class:"absolute-bottom-right",label:"Actualizar imagen",color:"primary"},null,8,["onClick"])])),_:1})}a(9635),a(1254),a(1389);const ye=(0,o.aZ)({name:"PhotoInput",props:{urlimage:String},setup(e,{emit:t}){const a=e.urlimage,l=(0,s.iH)(null),n=(0,s.iH)("https://i.imgur.com/m2HqiWK.png"),r=()=>{l.value.click()},i=e=>{const a=e.target.files[0];a&&(n.value=URL.createObjectURL(a),t("photo-selected",a))};return(0,o.bv)((()=>{a&&(n.value=a)})),{onCoverPhotoChange:i,selectedPhotoUrl:n,actualizarImagen:r,refFotoPortada:l}}}),Ce=(0,E.Z)(ye,[["render",Ee]]),Se=Ce;P()(ye,"components",{QCard:C.Z,QBtn:x.Z});const Qe=(0,o.aZ)({props:{showFormCreateEvent:Boolean},components:{PhotoInput:Se},computed:{photographersOptions(){return this.photographers.map((e=>({label:`${e.firstname} ${e.lastname}`,value:e.id})))}},setup(e,{emit:t}){const a=(0,c.t)(),l=(0,s.iH)(null),n=(0,s.iH)([]),r=(0,s.iH)(null),i=(0,s.iH)(""),d=a.user.user,m=(0,s.iH)(""),p=(0,s.iH)(""),h=(0,s.iH)("2019/02/01"),v=(0,s.iH)(""),g=(0,s.iH)(""),w=async()=>{try{const{data:e}=await u.api.get("/photographers",{headers:{Accept:"application/json"}});n.value=e}catch(e){console.log(e)}},f=e=>{r.value=e,console.log("Photo File:",e)},_=()=>{l.value&&l.value.submit()},q=async()=>{try{const e={title:i.value,detail:p.value,date_start:h.value,address:v.value,cover:r.value,photographer_id:m.value.value},t=new FormData;Object.keys(e).forEach((a=>{t.append(a,e[a])}));const{data:a}=await u.api.post("/events",t,{headers:{"Content-Type":"multipart/form-data",AuthorizationRequired:!0}});Ze.Z.create({message:"Nuevo evento agregado",color:"positive",position:"top-right",timeout:2e3}),W(a)}catch(e){Ze.Z.create({message:"Error al crear evento. intente nuevamente",color:"negative",position:"top-right",timeout:2e3}),console.log(e)}},W=e=>{t("update:showFormCreateEvent",e)},Z=()=>{};return(0,o.bv)((()=>{w()})),{myForm:l,qr_img:g,photographers:n,organizer:d,title:i,assignedPhotographer:m,date:(0,s.iH)("2019/02/01"),time:(0,s.iH)("10:56"),dateStart:h,timeStart:(0,s.iH)("10:56"),address:v,details:p,onSubmit:q,submitForm:_,closeFormCreateEvent:W,handlePhotoSelected:f,onReset:Z}}});var De=a(8326),ke=a(6611),xe=a(6384),Ve=a(2857),Pe=a(2765),Ue=a(4351),Fe=a(6770),Ie=a(2146);const ze=(0,E.Z)(Qe,[["render",We]]),Ae=ze;P()(Qe,"components",{QDialog:y.Z,QCard:C.Z,QCardSection:S.Z,QSpace:Q.Z,QSeparator:D.Z,QScrollArea:k.Z,QForm:De.Z,QItem:z.Z,QItemSection:A.Z,QAvatar:H.Z,QItemLabel:j.Z,QInput:ke.Z,QSelect:xe.Z,QIcon:Ve.Z,QPopupProxy:Pe.Z,QDate:Ue.Z,QBtn:x.Z,QTime:Fe.Z}),P()(Qe,"directives",{ClosePopup:Ie.Z});const He={components:{ListEvent:N,ListAssignedEvent:me,CreateEvent:Ae},setup(){const e=(0,c.t)(),t=e.user.user,a=(0,s.iH)([]),l=(0,s.iH)([]),n=async()=>{try{const{data:e}=await u.api.get("/events/me",{headers:{AuthorizationRequired:!0}});a.value=e}catch(e){console.log(e)}},r=async()=>{try{const{data:e}=await u.api.get("/events-assigned",{headers:{AuthorizationRequired:!0}});l.value=e}catch(e){console.log(e)}},i=e=>{n(),r()};return(0,o.bv)((()=>{n(),r()})),{events:a,assignedEvents:l,authUser:t,showFormCreateEvent:(0,s.iH)(!1),handleUpdateShowForm:i}}};var je=a(9885),Le=a(1663);const Re=(0,E.Z)(He,[["render",i],["__scopeId","data-v-27fd434f"]]),Te=Re;function Oe(e,t,a,l,n,r){const s=(0,o.up)("PhotoInput"),i=(0,o.up)("q-input"),u=(0,o.up)("q-form"),c=(0,o.up)("q-card-section"),d=(0,o.up)("q-card"),m=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(m,{class:"row justify-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"col-md-6 col-xs-12"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"row justify-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{class:"q-gutter-md",style:{width:"380px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{onPhotoSelected:e.handlePhotoSelected,urlimage:e.profile.photo},null,8,["onPhotoSelected","urlimage"]),(0,o.Wm)(i,{modelValue:e.profile.firstname,"onUpdate:modelValue":t[0]||(t[0]=t=>e.profile.firstname=t)},null,8,["modelValue"]),(0,o.Wm)(i,{modelValue:e.profile.lastname,"onUpdate:modelValue":t[1]||(t[1]=t=>e.profile.lastname=t)},null,8,["modelValue"]),(0,o.Wm)(i,{modelValue:e.profile.email,"onUpdate:modelValue":t[2]||(t[2]=t=>e.profile.email=t)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})}function Be(e,t,a,l,n,r){const s=(0,o.up)("q-img"),i=(0,o.up)("q-btn"),u=(0,o.up)("q-card"),c=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.j4)(u,null,{default:(0,o.w5)((()=>[(0,o._)("input",{type:"file",accept:"image/*",ref:"filePhoto",style:{display:"none"},onChange:t[0]||(t[0]=(...t)=>e.handleFileChange&&e.handleFileChange(...t))},null,544),(0,o.Wm)(s,{src:e.selectedPhoto.url,ratio:1,rounded:"",style:{width:"200px"}},null,8,["src"]),(0,o.wy)((0,o.Wm)(i,{flat:"",onClick:e.abrirSelectorDeArchivos,class:"absolute-bottom-right",color:"primary",icon:"edit"},null,8,["onClick"]),[[c]])])),_:1})}P()(He,"components",{QPage:je.Z,QToolbar:Le.Z,QBtn:x.Z});const $e=(0,o.aZ)({setup(){return{}}});var Ke=a(335);const Ne=(0,E.Z)($e,[["render",Be]]),Ye=Ne;P()($e,"components",{QCard:C.Z,QImg:Ke.Z,QBtn:x.Z}),P()($e,"directives",{ClosePopup:Ie.Z});var Je=function(e,t,a,o){function l(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,n){function r(e){try{i(o.next(e))}catch(t){n(t)}}function s(e){try{i(o["throw"](e))}catch(t){n(t)}}function i(e){e.done?a(e.value):l(e.value).then(r,s)}i((o=o.apply(e,t||[])).next())}))};const Me=(0,o.aZ)({components:{Photo:Ye,PhotoInput:Se},setup(){const e=(0,c.t)(),t=e.user.user,a=(0,s.iH)({firstname:t.firstname,lastname:t.lastname,email:t.email,address:"",phone:"",biography:"",photo:t.avatar_url}),o=e=>Je(this,void 0,void 0,(function*(){const t=new FormData;t.append("image",e);try{const{data:e}=yield u.api.post("/profile",t,{headers:{"Content-Type":"multipart/form-data",AuthorizationRequired:!0}});Ze.Z.create({message:"Se actualizo su foto de perfil",color:"positive",position:"top-right",timeout:2e3})}catch(a){Ze.Z.create({message:"Error al actualizar foto de perfil, intente nuevamente",color:"negative",position:"top-right",timeout:2e3})}}));return{profile:a,handlePhotoSelected:o}}}),Ge=(0,E.Z)(Me,[["render",Oe]]),Xe=Ge;P()(Me,"components",{QPage:je.Z,QCard:C.Z,QCardSection:S.Z,QForm:De.Z,QInput:ke.Z});const et=(0,o.aZ)({components:{EventPage:Te,ProfilePage:Xe},setup(){const e=(0,s.iH)("events");return{tab:e}}});var tt=a(7817),at=a(900),ot=a(9800),lt=a(4106);const nt=(0,E.Z)(et,[["render",r]]),rt=nt;P()(et,"components",{QPage:je.Z,QCard:C.Z,QCardSection:S.Z,QSeparator:D.Z,QTabs:tt.Z,QTab:at.Z,QTabPanels:ot.Z,QTabPanel:lt.Z})}}]);